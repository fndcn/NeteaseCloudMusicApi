import{I as g}from"./icon-3000e80b.js";import{_ as I,u as C,f as M,g as S,o,c as i,F as v,d as l,i as B,n as h,h as _,t as u,a as E,s as w,v as L,P,p as $,b as D}from"./index-de120711.js";const z=c=>($("data-v-b7b14c8a"),c=c(),D(),c),N={class:"music-list"},V=z(()=>l("div",{class:"list-header list-item"},[l("span",{class:"song"},"歌曲"),l("span",{class:"singer"},"歌手"),l("span",{class:"album"},"专辑")],-1)),F=["id","onDblclick"],H={class:"num"},A={class:"item-content"},T={class:"item-menu"},j={class:"song-container"},q={class:"song"},x={class:"icon-container",id:"icon"},G={class:"singer"},J=["title"],K={key:1,class:"no-result"},O={__name:"musicList",props:{isClose:{type:Boolean,default:!1},list:{type:Array,default:[]},scroll:{type:Boolean,default:!1}},emits:["select","del","scroll"],setup(c,{emit:d}){const r=c,s=C();let p=M(!0);function m(t){return s.playing&&s.currentMusic.id===t.id?"pause":"play"}function f(t,a){if(s.currentMusic&&t.id===s.currentMusic.id){s.playing?s.audioEle.pause():s.audioEle.play(),s.setPlaying(!s.playing);return}(!s.currentMusic||t.id!==s.currentMusic.id)&&(t.image||d("select",t),s.setCurrentMusic(t,a),s.setPlaying(!0),s.audioEle.src=t.url,s.audioEle.play())}function k(t,a){s.removeItem(a),d("del",t),window.$tip("删除成功")}function b(t){if(!r.scroll||p.value)return;const{scrollTop:a,scrollHeight:e,offsetHeight:n}=t.target;a+n>=e-100&&(p.value=!0,d("scroll"))}return S(()=>{s.setPlayList(r.list),p.value=!1}),(t,a)=>(o(),i("div",N,[r.list.length>0?(o(),i(v,{key:0},[V,l("div",{class:"list-content",onScroll:a[0]||(a[0]=e=>b(e))},[(o(!0),i(v,null,B(c.list,(e,n)=>(o(),i("div",{key:e.id,id:e.id,class:h(["list-item",{active:_(s).currentMusic.id===e.id}]),onDblclick:y=>f(e,n)},[l("span",H,u(n+1),1),l("div",A,[l("div",T,[l("div",j,[l("span",q,u(e.name),1),l("span",{class:h({gif:_(s).currentMusic.id===e.id&&_(s).playing})},null,2)]),l("div",x,[E(g,{type:m(e),size:32,onClick:y=>f(e,n)},null,8,["type","onClick"]),r.isClose?(o(),w(g,{key:0,type:"close",size:32,onClick:y=>k(e,n)},null,8,["onClick"])):L("",!0)])]),l("span",G,u(e.singer),1),l("span",{class:"album",title:e.album},u(e.album),9,J)])],42,F))),128)),P(t.$slots,"default",{},void 0,!0)],32)],64)):(o(),i("div",K," 此歌单中还没有添加音乐哦！ "))]))}},U=I(O,[["__scopeId","data-v-b7b14c8a"]]);export{U as m};
