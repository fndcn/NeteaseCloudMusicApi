import{I as g}from"./icon-1273f975.js";import{_ as I,u as C,f as M,g as S,o as c,c as o,F as v,d as l,i as B,n as h,h as _,t as u,a as E,s as w,v as L,P,p as $,b as D}from"./index-f97316e7.js";const z=a=>($("data-v-7b7b47c2"),a=a(),D(),a),N={class:"music-list"},V=z(()=>l("div",{class:"list-header list-item"},[l("span",{class:"song"},"歌曲"),l("span",{class:"singer"},"歌手"),l("span",{class:"album"},"专辑")],-1)),x=["id","onDblclick"],F={class:"num"},H={class:"item-content"},A={class:"item-menu"},T={class:"song-container"},j=["title"],q={class:"icon-container",id:"icon"},G={class:"singer"},J=["title"],K={key:1,class:"no-result"},O={__name:"musicList",props:{isClose:{type:Boolean,default:!1},list:{type:Array,default:[]},scroll:{type:Boolean,default:!1}},emits:["select","del","scroll"],setup(a,{emit:d}){const r=a,s=C();let p=M(!0);function k(t){return s.playing&&s.currentMusic.id===t.id?"pause":"play"}function f(t,n){if(s.currentMusic&&t.id===s.currentMusic.id){s.playing?s.audioEle.pause():s.audioEle.play(),s.setPlaying(!s.playing);return}(!s.currentMusic||t.id!==s.currentMusic.id)&&(t.image||d("select",t),s.setCurrentMusic(t,n),s.setPlaying(!0),s.audioEle.src=t.url,s.audioEle.play())}function m(t,n){d("del",t),window.$tip("删除成功")}function b(t){if(!r.scroll||p.value)return;const{scrollTop:n,scrollHeight:e,offsetHeight:i}=t.target;n+i>=e-100&&(p.value=!0,d("scroll"))}return S(()=>{s.setPlayList(r.list),p.value=!1}),(t,n)=>(c(),o("div",N,[r.list.length>0?(c(),o(v,{key:0},[V,l("div",{class:"list-content",onScroll:n[0]||(n[0]=e=>b(e))},[(c(!0),o(v,null,B(a.list,(e,i)=>(c(),o("div",{key:e.id,id:e.id,class:h(["list-item",{active:_(s).currentMusic.id===e.id}]),onDblclick:y=>f(e,i)},[l("span",F,u(i+1),1),l("div",H,[l("div",A,[l("div",T,[l("span",{class:"song",title:e.name},u(e.name),9,j),l("span",{class:h({gif:_(s).currentMusic.id===e.id&&_(s).playing})},null,2)]),l("div",q,[E(g,{type:k(e),size:32,onClick:y=>f(e,i)},null,8,["type","onClick"]),r.isClose?(c(),w(g,{key:0,type:"close",size:32,onClick:y=>m(e)},null,8,["onClick"])):L("",!0)])]),l("span",G,u(e.singer),1),l("span",{class:"album",title:e.album},u(e.album),9,J)])],42,x))),128)),P(t.$slots,"default",{},void 0,!0)],32)],64)):(c(),o("div",K," 此歌单中还没有添加音乐哦！ "))]))}},U=I(O,[["__scopeId","data-v-7b7b47c2"]]);export{U as m};
